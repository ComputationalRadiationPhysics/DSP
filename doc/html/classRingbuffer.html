<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Digital Signal Processing using CUDA: Ringbuffer&lt; Type &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Digital Signal Processing using CUDA
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classRingbuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ringbuffer&lt; Type &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A ringbuffer template supporting non-host consumers/producers.  
 <a href="classRingbuffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Ringbuffer_8h_source.html">Ringbuffer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae2ff732b1a9a88f95d57ce27330c00ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#ae2ff732b1a9a88f95d57ce27330c00ad">Ringbuffer</a> (unsigned int bSize, int producer)</td></tr>
<tr class="separator:ae2ff732b1a9a88f95d57ce27330c00ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b2973f3ab190cf778535c394ba980d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#ac8b2973f3ab190cf778535c394ba980d">writeFromHost</a> (Type *inputOnHost)</td></tr>
<tr class="separator:ac8b2973f3ab190cf778535c394ba980d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f008c10065843bbab49579c8ce3ce4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#a97f008c10065843bbab49579c8ce3ce4">copyToHost</a> (Type *outputOnHost)</td></tr>
<tr class="separator:a97f008c10065843bbab49579c8ce3ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf64a0c3c16f208dd1191130b0d18b33"><td class="memItemLeft" align="right" valign="top">Type *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#acf64a0c3c16f208dd1191130b0d18b33">reserveHead</a> ()</td></tr>
<tr class="separator:acf64a0c3c16f208dd1191130b0d18b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8b62be3d51a00930e7b06d1ad2df53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#a1d8b62be3d51a00930e7b06d1ad2df53">freeHead</a> ()</td></tr>
<tr class="separator:a1d8b62be3d51a00930e7b06d1ad2df53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a0b4877bfcf06687d782b029185be7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8a0b4877bfcf06687d782b029185be7"></a>
Type *&#160;</td><td class="memItemRight" valign="bottom"><b>reserveTailTry</b> ()</td></tr>
<tr class="separator:ab8a0b4877bfcf06687d782b029185be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66193754bca336ed8b8f2d5a9a89995c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#a66193754bca336ed8b8f2d5a9a89995c">freeTail</a> ()</td></tr>
<tr class="separator:a66193754bca336ed8b8f2d5a9a89995c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefca234ed766de811794f6ab91e86d17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#aefca234ed766de811794f6ab91e86d17">getSize</a> ()</td></tr>
<tr class="separator:aefca234ed766de811794f6ab91e86d17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af746d95cfff3115957d01181484be191"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#af746d95cfff3115957d01181484be191">isEmpty</a> ()</td></tr>
<tr class="separator:af746d95cfff3115957d01181484be191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43a1bbfa6c41dd0aba33c70248425a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#ac43a1bbfa6c41dd0aba33c70248425a6">isFinished</a> ()</td></tr>
<tr class="separator:ac43a1bbfa6c41dd0aba33c70248425a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40e43d8729f0cfdcb97675cda52b05f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingbuffer.html#ae40e43d8729f0cfdcb97675cda52b05f">producerQuit</a> ()</td></tr>
<tr class="separator:ae40e43d8729f0cfdcb97675cda52b05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Type&gt;<br/>
class Ringbuffer&lt; Type &gt;</h3>

<p>A ringbuffer template supporting non-host consumers/producers. </p>
<p><a class="el" href="classRingbuffer.html" title="A ringbuffer template supporting non-host consumers/producers.">Ringbuffer</a> Data is written to the head of the buffer and read from the tail. To enable reading to devices like graphic cards the tail of the buffer can be reserved. In the reserved state copy operations can be performed externally. After copying the head needs to be freed. The same mechanism is available for writing to the buffer from other devices. For data reading/writing from host to host classic write/read methods are available. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae2ff732b1a9a88f95d57ce27330c00ad"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::<a class="el" href="classRingbuffer.html">Ringbuffer</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>producer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Basic Constructor.</p>
<p>Reserves buffer memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bSize</td><td>buffer size in items of 'Type' </td></tr>
    <tr><td class="paramname">producer</td><td>Number of producers feeding the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a97f008c10065843bbab49579c8ce3ce4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::copyToHost </td>
          <td>(</td>
          <td class="paramtype">Type *&#160;</td>
          <td class="paramname"><em>outputOnHost</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read data from the buffer to the host.</p>
<p>The call blocks until there is data available in the buffer. The call blocks if the buffer is already used by another thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputOnHost</td><td>Pointer to host memory where buffer data is to be written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d8b62be3d51a00930e7b06d1ad2df53"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::freeHead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock buffer after external write operation (using reserveHead) finished. All other calls to the buffer will block until <a class="el" href="classRingbuffer.html#a1d8b62be3d51a00930e7b06d1ad2df53">freeHead()</a> is called. Calling <a class="el" href="classRingbuffer.html#a1d8b62be3d51a00930e7b06d1ad2df53">freeHead()</a> wakes up other threads trying to read from an empty buffer. </p>

</div>
</div>
<a class="anchor" id="a66193754bca336ed8b8f2d5a9a89995c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::freeTail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock buffer after external read operation (using reserveTail()) finished. All other calls to the buffer will block until <a class="el" href="classRingbuffer.html#a66193754bca336ed8b8f2d5a9a89995c">freeTail()</a> is called. Calling <a class="el" href="classRingbuffer.html#a66193754bca336ed8b8f2d5a9a89995c">freeTail()</a> wakes up other blocking threads trying to write to a full buffer. </p>

</div>
</div>
<a class="anchor" id="aefca234ed766de811794f6ab91e86d17"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::getSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get amount of items stored in buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of items in buffer </dd></dl>

</div>
</div>
<a class="anchor" id="af746d95cfff3115957d01181484be191"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell if buffer is empty. </p>
<dl class="section return"><dt>Returns</dt><dd>True if no elements are in buffer. False otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ac43a1bbfa6c41dd0aba33c70248425a6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::isFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell if buffer is empty and will stay empty. </p>
<dl class="section return"><dt>Returns</dt><dd>True if there are no elements in buffer and all producers announced that they stopped adding elements. False otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ae40e43d8729f0cfdcb97675cda52b05f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::producerQuit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lets a producer announce that it is adding no more elements to the buffer. To be called only once per producer. This is not checked. </p>

</div>
</div>
<a class="anchor" id="acf64a0c3c16f208dd1191130b0d18b33"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Type * <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::reserveHead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock head position of buffer to perform write operations externally.</p>
<p>The call blocks until there is space available in the buffer.</p>
<p>Buffer is blocked until <a class="el" href="classRingbuffer.html#a1d8b62be3d51a00930e7b06d1ad2df53">freeHead()</a> is called. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the head of the ringbuffer. One item of &lt;Type&gt; can be written here. </dd></dl>

</div>
</div>
<a class="anchor" id="ac8b2973f3ab190cf778535c394ba980d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRingbuffer.html">Ringbuffer</a>&lt; Type &gt;::writeFromHost </td>
          <td>(</td>
          <td class="paramtype">Type *&#160;</td>
          <td class="paramname"><em>inputOnHost</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write data to the buffer from the host.</p>
<p>The call blocks if there is no space available on the buffer or if the buffer is already used by another thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputOnHost</td><td>Needs to be on host memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>DSP/src/<a class="el" href="Ringbuffer_8h_source.html">Ringbuffer.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 30 2014 09:51:32 for Digital Signal Processing using CUDA by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
