\hypertarget{LevMarq_8h}{\section{/home/fabian/\-D\-S\-P/src/\-Lev\-Marq.h File Reference}
\label{LevMarq_8h}\index{/home/fabian/\-D\-S\-P/src/\-Lev\-Marq.\-h@{/home/fabian/\-D\-S\-P/src/\-Lev\-Marq.\-h}}
}
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$math.\-h$>$}\\*
{\ttfamily \#include $<$float.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include \char`\"{}Types.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Lev\-Marq.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{LevMarq_8h_af2bde972add2819c87bb35356f216c7d}{\#define {\bfseries P\-A\-R\-A\-M\-S\-T\-A\-R\-T\-V\-A\-L\-U\-E}~\{ 1, 1, 1 \}}\label{LevMarq_8h_af2bde972add2819c87bb35356f216c7d}

\item 
\hypertarget{LevMarq_8h_a7b01e29f669d6beed251f1b2a547ca93}{\#define {\bfseries C\-U\-D\-A}}\label{LevMarq_8h_a7b01e29f669d6beed251f1b2a547ca93}

\item 
\hypertarget{LevMarq_8h_aafd44675f0730213a63f23d919f6bf0a}{\#define {\bfseries G\-E\-T\-S\-A\-M\-P\-L\-E}(I, I\-N\-D\-E\-X\-D\-A\-T\-A\-S\-E\-T)~tex2\-D(data\-Texture, (I) + 0.\-5, (I\-N\-D\-E\-X\-D\-A\-T\-A\-S\-E\-T) + 0.\-5)}\label{LevMarq_8h_aafd44675f0730213a63f23d919f6bf0a}

\item 
\hypertarget{LevMarq_8h_a3de33738fd3c7e77bffbcfaefc3e7645}{\#define {\bfseries G\-L\-O\-B\-A\-L}~\-\_\-\-\_\-global\-\_\-\-\_\-}\label{LevMarq_8h_a3de33738fd3c7e77bffbcfaefc3e7645}

\item 
\hypertarget{LevMarq_8h_a775d096fbc3988fb7ed858b79ef44e22}{\#define {\bfseries D\-E\-V\-I\-C\-E}~\-\_\-\-\_\-device\-\_\-\-\_\-}\label{LevMarq_8h_a775d096fbc3988fb7ed858b79ef44e22}

\item 
\hypertarget{LevMarq_8h_a884c794595c4aa480df9022648c29564}{\#define {\bfseries S\-H\-A\-R\-E\-D}~\-\_\-\-\_\-shared\-\_\-\-\_\-}\label{LevMarq_8h_a884c794595c4aa480df9022648c29564}

\item 
\hypertarget{LevMarq_8h_a01b46cc2cae4eee231acb7702df379db}{\#define {\bfseries L\-M\-\_\-\-M\-A\-C\-H\-E\-P}~F\-L\-T\-\_\-\-E\-P\-S\-I\-L\-O\-N}\label{LevMarq_8h_a01b46cc2cae4eee231acb7702df379db}

\item 
\hypertarget{LevMarq_8h_a2ee34e0a4f4a4b860c14a8ab07e3cec3}{\#define {\bfseries L\-M\-\_\-\-D\-W\-A\-R\-F}~F\-L\-T\-\_\-\-M\-I\-N}\label{LevMarq_8h_a2ee34e0a4f4a4b860c14a8ab07e3cec3}

\item 
\hypertarget{LevMarq_8h_a65e2a867eb21938170bb9a8a850b64ec}{\#define {\bfseries L\-M\-\_\-\-S\-Q\-R\-T\-\_\-\-D\-W\-A\-R\-F}~sqrt(F\-L\-T\-\_\-\-M\-I\-N)}\label{LevMarq_8h_a65e2a867eb21938170bb9a8a850b64ec}

\item 
\hypertarget{LevMarq_8h_a057d1d13f0effa33d81c7615e4f3664d}{\#define {\bfseries L\-M\-\_\-\-S\-Q\-R\-T\-\_\-\-G\-I\-A\-N\-T}~sqrt(F\-L\-T\-\_\-\-M\-A\-X)}\label{LevMarq_8h_a057d1d13f0effa33d81c7615e4f3664d}

\item 
\hypertarget{LevMarq_8h_a61b84f802abd9a0782dcb0c1b10e8819}{\#define {\bfseries L\-M\-\_\-\-U\-S\-E\-R\-T\-O\-L}~30$\ast$L\-M\-\_\-\-M\-A\-C\-H\-E\-P}\label{LevMarq_8h_a61b84f802abd9a0782dcb0c1b10e8819}

\item 
\hypertarget{LevMarq_8h_adcd021ac91d43a62b2cdecf9a5b971a7}{\#define {\bfseries M\-I\-N}(A, B)~(((A) $<$= (B)) ? (A) \-: (B))}\label{LevMarq_8h_adcd021ac91d43a62b2cdecf9a5b971a7}

\item 
\hypertarget{LevMarq_8h_ad935f1ff1a50822e317bdb321ce991ad}{\#define {\bfseries M\-A\-X}(A, B)~(((A) $>$= (B)) ? (A) \-: (B))}\label{LevMarq_8h_ad935f1ff1a50822e317bdb321ce991ad}

\item 
\hypertarget{LevMarq_8h_a2eb03319e5ccdc1a14b73a7d8b1724de}{\#define {\bfseries S\-Q\-R}(X)~((X) $\ast$ (X))}\label{LevMarq_8h_a2eb03319e5ccdc1a14b73a7d8b1724de}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
D\-E\-V\-I\-C\-E void \hyperlink{LevMarq_8h_a5cd69665c6373b0e11b4d4dac1c96870}{fit\-Function} (float x, float $\ast$param, float $\ast$y)
\begin{DoxyCompactList}\small\item\em fit\-Function returns the y of a given x \end{DoxyCompactList}\item 
D\-E\-V\-I\-C\-E void \hyperlink{LevMarq_8h_a57031410d7214c2ce6569d26d313c81f}{fit\-Function\-Extremum} (float $\ast$param, float $\ast$x)
\begin{DoxyCompactList}\small\item\em fit\-Function\-Extremum returns the x of the min. or max. y value \end{DoxyCompactList}\item 
\hypertarget{LevMarq_8h_a387a39d934b5388da5475b6f81f4dca2}{D\-E\-V\-I\-C\-E void {\bfseries evaluate} (float $\ast$param, int count\-Data, float $\ast$fvec, int index\-Dataset, int x\-Offset)}\label{LevMarq_8h_a387a39d934b5388da5475b6f81f4dca2}

\item 
\hypertarget{LevMarq_8h_aaa2c225ad735dbaf4b949124356c7680}{D\-E\-V\-I\-C\-E void {\bfseries qr\-Solve} (int n, float $\ast$r, int ldr, int $\ast$ipvt, float $\ast$diag, float $\ast$qtb, float $\ast$x, float $\ast$sdiag, float $\ast$wa)}\label{LevMarq_8h_aaa2c225ad735dbaf4b949124356c7680}

\item 
D\-E\-V\-I\-C\-E void \hyperlink{LevMarq_8h_ad811b4e3f21363f3411fb5bcf40f039f}{euclid\-Norm} (int n, float $\ast$x, float $\ast$result)
\item 
\hypertarget{LevMarq_8h_abb75a88e4f290d8df4960dcaa63439e2}{D\-E\-V\-I\-C\-E void {\bfseries lmpar} (int n, float $\ast$r, int ldr, int $\ast$ipvt, float $\ast$diag, float $\ast$qtb, float delta, float $\ast$par, float $\ast$x, float $\ast$sdiag, float $\ast$wa1, float $\ast$wa2)}\label{LevMarq_8h_abb75a88e4f290d8df4960dcaa63439e2}

\item 
\hypertarget{LevMarq_8h_a15b9d544dbbe5defd5987e65cc6d934e}{D\-E\-V\-I\-C\-E void {\bfseries qr\-Factorization} (int m, int n, float $\ast$a, int pivot, int $\ast$ipvt, float $\ast$rdiag, float $\ast$acnorm, float $\ast$wa)}\label{LevMarq_8h_a15b9d544dbbe5defd5987e65cc6d934e}

\item 
\hypertarget{LevMarq_8h_a89077028d3f652a4d07235c517af3c9d}{D\-E\-V\-I\-C\-E void {\bfseries lmdif} (int m, int n, float $\ast$x, float $\ast$fvec, float ftol, float xtol, float gtol, int maxfev, float epsfcn, float $\ast$diag, int mode, float factor, int $\ast$info, int $\ast$nfev, float $\ast$fjac, int $\ast$ipvt, float $\ast$qtf, float $\ast$wa1, float $\ast$wa2, float $\ast$wa3, float $\ast$wa4, int index\-Dataset, int x\-Offset)}\label{LevMarq_8h_a89077028d3f652a4d07235c517af3c9d}

\item 
D\-E\-V\-I\-C\-E void \hyperlink{LevMarq_8h_a11e517a13063d8dd881e0c9d80cbd2e8}{max\-Value} (int count\-Data, int index\-Dataset, int $\ast$x, D\-A\-T\-A\-T\-Y\-P\-E $\ast$y)
\begin{DoxyCompactList}\small\item\em max\-Value returns the x and y where y has the greatest value \end{DoxyCompactList}\item 
D\-E\-V\-I\-C\-E void \hyperlink{LevMarq_8h_a424a5df06a8a7f00096f4164e32e37ce}{average\-Value} (int start, int count, int index\-Dataset, float $\ast$y)
\begin{DoxyCompactList}\small\item\em average\-Value returns the average of all y values in a given range \end{DoxyCompactList}\item 
D\-E\-V\-I\-C\-E void \hyperlink{LevMarq_8h_a9d6b3f6ea2a9237e6d34524697c2eb0d}{x\-Of\-Value} (int count\-Data, int index\-Dataset, char from\-Direction, D\-A\-T\-A\-T\-Y\-P\-E min\-Value, int $\ast$x)
\begin{DoxyCompactList}\small\item\em x\-Of\-Value returns the first x of a value y that is greater or equal of a given min. value \end{DoxyCompactList}\item 
G\-L\-O\-B\-A\-L void \hyperlink{LevMarq_8h_a14a00442d7bb39cccd9c8aa5122b9a25}{kernel} (int count\-Data, struct \hyperlink{structfitData}{fit\-Data} $\ast$result)
\begin{DoxyCompactList}\small\item\em kernel is the start method for calculation (you have to set the data\-Texture (G\-P\-U mode) or data variable (C\-P\-U mode) before calling this method) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{LevMarq_8h_a0e55d293c8b42cfdb4df2c0e0bdd294d}{texture$<$ Precision, \\*
2, cuda\-Read\-Mode\-Element\-Type $>$ {\bfseries data\-Texture}}\label{LevMarq_8h_a0e55d293c8b42cfdb4df2c0e0bdd294d}

\item 
const char $\ast$ {\bfseries status\-Message} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{LevMarq_8h_a424a5df06a8a7f00096f4164e32e37ce}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!average\-Value@{average\-Value}}
\index{average\-Value@{average\-Value}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{average\-Value}]{\setlength{\rightskip}{0pt plus 5cm}D\-E\-V\-I\-C\-E void average\-Value (
\begin{DoxyParamCaption}
\item[{int}]{start, }
\item[{int}]{count, }
\item[{int}]{index\-Dataset, }
\item[{float $\ast$}]{y}
\end{DoxyParamCaption}
)}}\label{LevMarq_8h_a424a5df06a8a7f00096f4164e32e37ce}


average\-Value returns the average of all y values in a given range 


\begin{DoxyParams}{Parameters}
{\em start} & first x for average calculation \\
\hline
{\em count} & number of values for average calculation \\
\hline
{\em index\-Dataset} & index of the current dataset (G\-P\-U mode) or not used (C\-P\-U mode) \\
\hline
{\em y} & the returned average \\
\hline
\end{DoxyParams}
\hypertarget{LevMarq_8h_ad811b4e3f21363f3411fb5bcf40f039f}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!euclid\-Norm@{euclid\-Norm}}
\index{euclid\-Norm@{euclid\-Norm}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{euclid\-Norm}]{\setlength{\rightskip}{0pt plus 5cm}D\-E\-V\-I\-C\-E void euclid\-Norm (
\begin{DoxyParamCaption}
\item[{int}]{n, }
\item[{float $\ast$}]{x, }
\item[{float $\ast$}]{result}
\end{DoxyParamCaption}
)}}\label{LevMarq_8h_ad811b4e3f21363f3411fb5bcf40f039f}
calculation of norm \hypertarget{LevMarq_8h_a5cd69665c6373b0e11b4d4dac1c96870}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!fit\-Function@{fit\-Function}}
\index{fit\-Function@{fit\-Function}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{fit\-Function}]{\setlength{\rightskip}{0pt plus 5cm}D\-E\-V\-I\-C\-E void fit\-Function (
\begin{DoxyParamCaption}
\item[{float}]{x, }
\item[{float $\ast$}]{param, }
\item[{float $\ast$}]{y}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{LevMarq_8h_a5cd69665c6373b0e11b4d4dac1c96870}


fit\-Function returns the y of a given x 


\begin{DoxyParams}{Parameters}
{\em x} & given x value to calculate y \\
\hline
{\em param} & parameters to define the concrete current fit-\/function \\
\hline
{\em y} & the returned y value \\
\hline
\end{DoxyParams}
\hypertarget{LevMarq_8h_a57031410d7214c2ce6569d26d313c81f}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!fit\-Function\-Extremum@{fit\-Function\-Extremum}}
\index{fit\-Function\-Extremum@{fit\-Function\-Extremum}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{fit\-Function\-Extremum}]{\setlength{\rightskip}{0pt plus 5cm}D\-E\-V\-I\-C\-E void fit\-Function\-Extremum (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{param, }
\item[{float $\ast$}]{x}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{LevMarq_8h_a57031410d7214c2ce6569d26d313c81f}


fit\-Function\-Extremum returns the x of the min. or max. y value 


\begin{DoxyParams}{Parameters}
{\em param} & parameters to define the concrete current fit-\/function \\
\hline
{\em x} & the returned x value \\
\hline
\end{DoxyParams}
\hypertarget{LevMarq_8h_a14a00442d7bb39cccd9c8aa5122b9a25}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!kernel@{kernel}}
\index{kernel@{kernel}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{kernel}]{\setlength{\rightskip}{0pt plus 5cm}G\-L\-O\-B\-A\-L void kernel (
\begin{DoxyParamCaption}
\item[{int}]{count\-Data, }
\item[{struct {\bf fit\-Data} $\ast$}]{result}
\end{DoxyParamCaption}
)}}\label{LevMarq_8h_a14a00442d7bb39cccd9c8aa5122b9a25}


kernel is the start method for calculation (you have to set the data\-Texture (G\-P\-U mode) or data variable (C\-P\-U mode) before calling this method) 


\begin{DoxyParams}{Parameters}
{\em count\-Data} & number of samples \\
\hline
{\em result} & fit-\/function and other parameters, defined in \hyperlink{structfitData}{fit\-Data} struct \\
\hline
\end{DoxyParams}
\hypertarget{LevMarq_8h_a11e517a13063d8dd881e0c9d80cbd2e8}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!max\-Value@{max\-Value}}
\index{max\-Value@{max\-Value}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{max\-Value}]{\setlength{\rightskip}{0pt plus 5cm}D\-E\-V\-I\-C\-E void max\-Value (
\begin{DoxyParamCaption}
\item[{int}]{count\-Data, }
\item[{int}]{index\-Dataset, }
\item[{int $\ast$}]{x, }
\item[{D\-A\-T\-A\-T\-Y\-P\-E $\ast$}]{y}
\end{DoxyParamCaption}
)}}\label{LevMarq_8h_a11e517a13063d8dd881e0c9d80cbd2e8}


max\-Value returns the x and y where y has the greatest value 


\begin{DoxyParams}{Parameters}
{\em count\-Data} & number of samples \\
\hline
{\em index\-Dataset} & index of the current dataset (G\-P\-U mode) or not used (C\-P\-U mode) \\
\hline
{\em x} & the returned x value \\
\hline
{\em y} & the returned y value \\
\hline
\end{DoxyParams}
\hypertarget{LevMarq_8h_a9d6b3f6ea2a9237e6d34524697c2eb0d}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!x\-Of\-Value@{x\-Of\-Value}}
\index{x\-Of\-Value@{x\-Of\-Value}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{x\-Of\-Value}]{\setlength{\rightskip}{0pt plus 5cm}D\-E\-V\-I\-C\-E void x\-Of\-Value (
\begin{DoxyParamCaption}
\item[{int}]{count\-Data, }
\item[{int}]{index\-Dataset, }
\item[{char}]{from\-Direction, }
\item[{D\-A\-T\-A\-T\-Y\-P\-E}]{min\-Value, }
\item[{int $\ast$}]{x}
\end{DoxyParamCaption}
)}}\label{LevMarq_8h_a9d6b3f6ea2a9237e6d34524697c2eb0d}


x\-Of\-Value returns the first x of a value y that is greater or equal of a given min. value 


\begin{DoxyParams}{Parameters}
{\em count\-Data} & number of samples \\
\hline
{\em index\-Dataset} & index of the current dataset (G\-P\-U mode) or not used (C\-P\-U mode) \\
\hline
{\em from\-Direction} & \\
\hline
{\em min\-Value} & min. y value \\
\hline
{\em x} & the returned x value, -\/1 if there is no x with a y greater or equal min\-Value \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\hypertarget{LevMarq_8h_a566842bb6e232f37419d0ac24e4618b1}{\index{Lev\-Marq.\-h@{Lev\-Marq.\-h}!status\-Message@{status\-Message}}
\index{status\-Message@{status\-Message}!LevMarq.h@{Lev\-Marq.\-h}}
\subsubsection[{status\-Message}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ status\-Message\mbox{[}$\,$\mbox{]}}}\label{LevMarq_8h_a566842bb6e232f37419d0ac24e4618b1}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \{ 
    \textcolor{stringliteral}{"fatal coding error (improper input parameters)"},
    \textcolor{stringliteral}{"success (the relative error in the sum of squares is at most tol)"},
    \textcolor{stringliteral}{"success (the relative error between x and the solution is at most tol)"},
    \textcolor{stringliteral}{"success (the relative errors in the sum of squares and between x and the solution are at most tol)"},
    \textcolor{stringliteral}{"trapped by degeneracy (fvec is orthogonal to the columns of the jacobian)"},
    \textcolor{stringliteral}{"timeout (number of calls to fcn has reached maxcall*(n+1))"},
    \textcolor{stringliteral}{"failure (ftol<tol: cannot reduce sum of squares any further)"},
    \textcolor{stringliteral}{"failure (xtol<tol: cannot improve approximate solution any further)"},
    \textcolor{stringliteral}{"failure (gtol<tol: cannot improve approximate solution any further)"}
\}
\end{DoxyCode}
